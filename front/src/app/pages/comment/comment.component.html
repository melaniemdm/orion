<!DOCTYPE html>
<app-header></app-header>
<div id="commentPage">
<div class="comment-header">
    <span class="material-icons arrow_back" [routerLink]="'/articles'">arrow_back</span>
    <div class="article-title">{{ articleSelected?.title }}</div>
</div>

<div class="article-info">
    <div>{{ articleSelected?.created_date | date: 'dd/MM/yyyy' }}</div>
    <div>{{ getArticleAuthorName() }}</div>
    <div>{{ getThemeName(articleSelected?.theme_id) }}</div>
</div>

<div class="article-content">{{ articleSelected?.description }}</div>


<h3>Commentaires</h3>
<div id="containerComment">
    <div *ngIf="comments.length > 0">
        <div class="comment-item" *ngFor="let comment of comments">
            <div class="username">{{ getUserName(comment.auteur_id) }}</div>
            
            <div class="comment-text">{{ comment.commentary }}</div>
        </div>
    </div>
</div>

<div class="comment-form">
    <input [(ngModel)]="newComment" placeholder="Ã‰crire un commentaire..." />
    <span class="material-icons send" (click)="sendComment()">send</span>
</div>

<p *ngIf="message" [ngClass]="{ success: isSuccess, error: !isSuccess }">{{ message }}</p></div>